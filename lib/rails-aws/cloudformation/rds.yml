RDS:
  Type: "AWS::RDS::DBInstance"
  Properties:
    AllocatedStorage: "50"
    AllowMajorVersionUpgrade: true
    AutoMinorVersionUpgrade: true
    BackupRetentionPeriod: "2"
    DBInstanceClass: "<%= db_instance_type %>"
    VPCSecurityGroups:
    - Ref: "SecurityGroup"
    Engine: "<%= db_type %>"
    DBName: "railsapp"
    MasterUsername: "railsapp"
    MasterUserPassword: "5aed99058d873716ebec7111b2e679dc"
    MultiAZ: false
    PubliclyAccessible: false
    DBSubnetGroupName:
      Ref: "RDSSubnet"
    Tags:
    - Key: "Name"
      Value: "<%= stack_name %>"
RDSSubnet:
  Type: "AWS::RDS::DBSubnetGroup"
  Properties: 
    DBSubnetGroupDescription: "<%= stack_name %>"
    SubnetIds:
    - Ref: "subnet1" 
    - Ref: "subnet2"
    Tags:
    - Key: "Name"
      Value: "<%= stack_name %>"
